# 一． 引言
目前情感分析主要分为三个方向，第一个是由情感词典和句法结构来做的、第二个是根据机器学习来做的、第三个是用深度学习的方法来做的（例如LSTM，CNN，RNN+CNN等）。三种方法中，第一种和第三种在不同的情况下使用，第二种方法现在的位置有点尴尬。

1、在语料充足的情况下，深度学习的方法会更好一些，因为词典匹配会由于语义表达的丰富性而出现很大误差。但是深度学习方法不会，它无需像词典匹配那样要深入到词语、句子、语法这些层面。
2、在使用的广度方面，词典方法适用的语料范围更广，无论是手机、电脑这些商品，还是书评、影评这些语料，它都可以适用。但深度学习则极度依赖语料，把手机语料训练出来的的分类器拿去给书评分类，那是注定要失败的。
3、在成本方面，使用深度学习进行情感分析，是用有监督的（需要人工标注类别）学习方法来对文本进行分类。相反，词典的方法是不需要进行人工标注数据的，他可以对所以。


# 二． 情感字典
情感词典的算法流程设计
第一步：读取评论数据，对评论进行分句（分句主要以特定的标点符号为主）。
第二步：将结巴词典和所有情感词典做并集，得出新的切词用地结巴词典。
第三步：查找对分句的情感词，记录正面还是负面，以及位置。
第四步：往情感词前查找程度词，找到就停止搜寻。为程度词设权值，乘以情感值。
第五步：往情感词前查找否定词，找完全部否定词，若数量为奇数，乘以-1，若为偶数，
乘以 1。
第六步：判断分句结尾是否有感叹号，有叹号则往前寻找情感词，有则相应的情感值+2。
第七步：判断分句结尾是否有问好，有问号该句判断为负面值+2。
第八步：计算完一条评论所有分句的情感值（[正面分值, 负面分值]），用数组（list）
记录起来。
第九步：计算并记录所有评论的情感值。
第十步：通过分句计算每条评论的正面情感均值，负面情感均值，正面情感总和，负面情
感总和。


举例：“我特别喜欢武汉这个城市！因为武汉有非常多好看的景点。但是，我不喜欢武汉的
天气，因为武汉的天气有点差，热的时候让人感觉不爽。”
1. 情感词
情感词典分为 2 种， 一种是正面的，另外一种是负面的。
要分析一句话是正面的还是负面的，最简单最基础的方法就是找出句子里面的情感词。
正面的情感词比如：好，孝顺，高性能，一心一意等。
负面情感词比如：差，郁闷，小心眼，一毛不拔等。
出现一个积极词就+1，出现一个消极词就-1。
在这句话里面，有“好看”和“喜欢”两个正面情感词，“差”和“不爽”两个负面情感词。
2. 程度词
“喜欢”，“好看”和‘差“前面都有一个程度修饰词。”极好“就比”较好“或者”好“的情感更
强，”太差“也比”有点差“情感强得多。
所以需要在找到情感词后往前找一下有没有程度修饰，并给不同的程度一个权值。
程度词我们分为 6 种，分别为：most，very，more，ish，insufficient 和 over
通过测试计算，给上面 6 种情感词的打分分别为 4，3，2，0.5，-0.3 和-0.5。
3. 感叹号
” 我特别喜欢武汉这个城市“后面有感叹号，叹号意味着情感强烈。因此发现叹号可以为情
感值+2.
4. 否定词
在找到情感词的时候，需要往前找否定词。比如”不“，”不能“这些词。而且还要数这些否
定词出现的次数，如果是单数，情感分值就*-1，但如果是偶数，那情感就没有反转，还
是*1。在这句话里面，可以看出”喜欢“前面只有一个”不“，所以”喜欢“的情感值应该反
转，*-1。
5. 正面和负面分开来
再接下来，很明显就可以看出，这句话里面有褒有贬，不能用一个分值来表示它的情感倾
向。而且这个权值的设置也会影响最终的情感分值，敏感度太高了。因此对这句话的最终
的正确的处理，是得出这句话的一个积极分值，一个消极分值（这样消极分值也是正数，
无需使用负数了）。它们同时代表了这句话的情感倾向。
6. 以分句的情感为基础
再仔细一步，详细一点，一条评论的情感分值是由不同的分句加起来的，因此要得到一条
评论的情感分值，就要先计算出评论中每个句子的情感分值。

这条例子评论有五个分句，
因此其结构如下（[正面分值, 负面分值]）：
下面是对每个分句的打分: [正面分值, 负面分值]
① 我 特别 喜欢 武汉这个城市 ！ [正面分值, 负面分值] : [3*1+2,0]
② 因为武汉有 非常 多 好看 的景点。 [正面分值, 负面分值] : [4*1,0]
③ 但是， [正面分值, 负面分值] : [0,0]
④ 我 不 喜欢 武汉的天气， [正面分值, 负面分值] : [-1*1,0]
⑤ 因为武汉的天气 有点 差， [正面分值, 负面分值] : [0,0.5*1]
⑥ 热的时候让人感觉 不爽。 [正面分值, 负面分值] : [0,1]


最后，这句话的得分为：
[3*1+2,0] + [4*1,0] + [0,0] + [-1*1,0] + [0,0.5*1] + [0,1] = [8,1.5]
即为：
 [正面分值, 负面分值] = [8,1.5]
因为 8>1.5，所以整句话的情感判断为正面。
不过，分值也可能为负数，比如 [正面分值, 负面分值]=[-2,-1]，这句的情感判断判
断为负面；比如 [正面分值, 负面分值]=[-2,1]，这句的情感判断判断为负面。这里我采
用了穷举法，在情感分析里面全部体现了。
如果我们仅仅使用情感词典的方法，准确率可以达到 80%。这种比较通用，不需
要训练，对于不同类型的数据都可以进行情感分析。唯一的缺点就是准确率不是
非常高。
